<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Analytics Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
        }

        table {
            border-collapse: collapse;
            width: 60%;
            margin-bottom: 30px;
        }

        th,
        td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f4f4f4;
        }

        h2 {
            margin-top: 40px;
        }
    </style>
</head>

<body>

    <h1>Analytics Dashboard</h1>

    <h2>Top 5 Most Purchased Top-Up Products</h2>
    {% if top_products %}
    <table>
        <tr>
            <th>Product</th>
            <th>Purchases</th>
        </tr>
        {% for product in top_products %}
        <tr>
            <td>{{ product.name }}</td>
            <td>{{ product.purchase_count }}</td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <p>No purchases yet.</p>
    {% endif %}

    <h2>Daily Revenue (Last 7 Days)</h2>
    {% if daily_revenue %}
    <table>
        <tr>
            <th>Date</th>
            <th>Revenue (â‚¹)</th>
        </tr>
        {% for record in daily_revenue %}
        <tr>
            <td>{{ record.day }}</td>
            <td>{{ record.revenue }}</td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <p>No revenue data available.</p>
    {% endif %}

    <h2>Failed Payments (This Month)</h2>
    <p>{{ failed_payments }}</p>

</body>

</html>